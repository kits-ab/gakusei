databaseChangeLog:
- changeSet:
    id: 1487684531133-1
    author: joakim (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: events_pkey
            name: id
            type: SERIAL
        - column:
            constraints:
              nullable: false
            name: timestamp
            type: TIMESTAMP(6) WITHOUT TIME ZONE
        - column:
            constraints:
              nullable: false
            name: type
            type: VARCHAR(64)
        - column:
            constraints:
              nullable: false
            name: data
            type: VARCHAR(64)
        - column:
            constraints:
              nullable: false
            name: gamemode
            type: VARCHAR(64)
        - column:
            name: user_ref
            type: VARCHAR(32)
        tableName: events
- changeSet:
    id: 1487684531133-2
    author: joakim (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: progresstrackinglist_pkey
            name: id
            type: SERIAL
        - column:
            name: user_ref
            type: VARCHAR(32)
        - column:
            name: nugget_id
            type: VARCHAR(16)
        - column:
            name: correct_count
            type: BIGINT
        - column:
            name: incorrect_count
            type: BIGINT
        - column:
            name: latest_timestamp
            type: TIMESTAMP(6) WITHOUT TIME ZONE
        - column:
            name: latest_result
            type: BOOLEAN
        tableName: progresstrackinglist
- changeSet:
    id: 1487684531133-3
    author: joakim (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: user_lesson_pkey
            name: id
            type: SERIAL
        - column:
            name: user_ref
            type: VARCHAR(32)
        - column:
            name: lesson_ref
            type: SERIAL
        - column:
            name: first_deadline
            type: TIMESTAMP(6) WITHOUT TIME ZONE
        - column:
            name: second_deadline
            type: TIMESTAMP(6) WITHOUT TIME ZONE
        tableName: user_lesson
- changeSet:
    id: 1487684531133-4
    author: joakim (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: username
            type: VARCHAR(32)
        - column:
            name: password
            type: VARCHAR(64)
        - column:
            name: userrole
            type: VARCHAR(64)
        tableName: users
- changeSet:
    id: 1487684531133-5
    author: joakim (generated)
    changes:
    - addPrimaryKey:
        columnNames: username
        constraintName: users_pkey
        tableName: users
- changeSet:
    id: 1487684531133-6
    author: joakim (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: user_ref
        baseTableName: events
        constraintName: events_user_ref_fkey
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: username
        referencedTableName: users
- changeSet:
    id: 1487684531133-7
    author: joakim (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: user_ref
        baseTableName: progresstrackinglist
        constraintName: progresstrackinglist_user_ref_fkey
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: username
        referencedTableName: users
- changeSet:
    id: 1487684523397-1
    author: joakim (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: facts_pkey
            name: id
            type: SERIAL
        - column:
            constraints:
              nullable: false
            name: type
            type: VARCHAR(32)
        - column:
            constraints:
              nullable: false
            name: data
            type: VARCHAR(128)
        - column:
            name: description
            type: VARCHAR(256)
        - column:
            constraints:
              nullable: false
            name: nuggetid
            type: VARCHAR(16)
        tableName: facts
        schemaName: contentschema
- changeSet:
    id: 1487684523397-2
    author: joakim (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: lessons_pkey
            name: id
            type: SERIAL
        - column:
            constraints:
              nullable: false
            name: name
            type: VARCHAR(64)
        - column:
            name: description
            type: VARCHAR(1024)
        tableName: lessons
        schemaName: contentschema
- changeSet:
    id: 1487684523397-3
    author: joakim (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
            name: lesson_id
            type: SERIAL
        - column:
            name: nugget_id
            type: VARCHAR(16)
        tableName: lessons_nuggets
        schemaName: contentschema
- changeSet:
    id: 1487684523397-4
    author: joakim (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: id
            type: VARCHAR(16)
        - column:
            constraints:
              nullable: false
            name: type
            type: VARCHAR(32)
        - column:
            name: description
            type: VARCHAR(256)
        - column:
            name: hidden
            type: BOOLEAN
        tableName: nuggets
        schemaName: contentschema
- changeSet:
    id: 1487684523397-5
    author: joakim (generated)
    changes:
    - addPrimaryKey:
        columnNames: id
        constraintName: nuggets_pkey
        tableName: nuggets
        schemaName: contentschema
- changeSet:
    id: 1487684523397-6
    author: joakim (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: nuggetid
        baseTableName: facts
        baseTableSchemaName: contentschema
        constraintName: facts_nuggetid_fkey
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: nuggets
        referencedTableSchemaName: contentschema
- changeSet:
    id: 1487684523397-7
    author: joakim
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: user_ref
        baseTableName: user_lesson
        constraintName: user_lesson_user_ref_fkey
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: username
        referencedTableName: users
- changeSet:
    id: 1487684523397-8
    author: joakim
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: lesson_ref
        baseTableName: user_lesson
        constraintName: user_lesson_lesson_ref_fkey
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: lessons
        referencedTableSchemaName: contentschema
- changeSet:
    id: 1
    author: joakim
    changes:
    - addColumn:
        tableName: events
        columns:
        - column:
            name: nugget_id
            type: varchar(16)